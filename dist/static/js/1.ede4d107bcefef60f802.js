webpackJsonp([1],{"+HTb":function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var n=e("XyxY"),s={data:function(){return{navBarFixed:!1,searchVal:"",fixedNav:!1,isFixed:!1,navIdx:0,nav:[],page:0,size:20,allLoaded:!1,list:[]}},mounted:function(){this.kindNav()},methods:{handleScroll:function(t){this.navBarFixed=t},changeNav:function(t){this.navIdx=t},kindNav:function(){var t=this;Object(n.b)().then(function(a){var e=a.data,n=e.code,s=e.data,i=e.msg;1e4===n?t.nav=s.nav:t.$toast(i)}).catch(function(a){console.log(a),t.$toast("哎呀，出错啦~~~")})},loadMore:function(){this.page++,this.$indicator.open({text:"加载中...",spinnerType:"fading-circle"}),this.kindList()},kindList:function(){var t=this,a={page:this.page,size:this.size};Object(n.a)(a).then(function(a){t.$indicator.close();var e=a.data,n=e.code,s=e.data,i=e.msg;if(1e4===n){var c=s.data.list;t.list=t.list.concat(c)}else t.$toast(i)}).catch(function(a){console.log(a),t.$toast("哎呀，出错啦~~~")})},search:function(t){console.log(t),document.activeElement.blur()}}},i={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("v-sticky",{on:{scroll:t.handleScroll}},[e("div",{staticClass:"header"},[e("p",[e("span",{staticClass:"icon"}),t._v(" "),e("span",[t._v("分类")])]),t._v(" "),e("form",{staticStyle:{flex:"1"},attrs:{action:"",onsubmit:"return false",autocomplete:"off"}},[e("mt-search",{attrs:{"cancel-text":"取消",placeholder:"搜索"},nativeOn:{keyup:function(a){return!a.type.indexOf("key")&&t._k(a.keyCode,"enter",13,a.key,"Enter")?null:t.search(t.searchVal)}},model:{value:t.searchVal,callback:function(a){t.searchVal=a},expression:"searchVal"}})],1)]),t._v(" "),e("div",{staticClass:"sticky",class:1==t.navBarFixed?"navBarWrap":""},t._l(t.nav,function(a,n){return e("p",{key:n,class:{navActive:n===t.navIdx},on:{click:function(e){return t.changeNav(a.id)}}},[t._v(t._s(a.title))])}),0),t._v(" "),e("ul",{directives:[{name:"infinite-scroll",rawName:"v-infinite-scroll",value:t.loadMore,expression:"loadMore"}],staticClass:"list",attrs:{"infinite-scroll-disabled":"loading","infinite-scroll-distance":"50"}},t._l(t.list,function(a,n){return e("li",{key:n,staticClass:"list-item"},[e("img",{attrs:{src:a.img}}),t._v(" "),e("p",{staticClass:"list-item-desc"},[t._v(t._s(a.desc))]),t._v(" "),e("p",{staticClass:"list-item-bottom"},[e("span",{staticClass:"price"},[e("span",{staticClass:"icon"},[t._v("￥")]),t._v(t._s(a.price))]),t._v(" "),e("span",[t._v(t._s(a.sales)+"件已售")]),t._v(" "),e("span",{staticClass:"list-item-bottom-icon"})])])}),0),t._v(" "),e("v-footer")],1)},staticRenderFns:[]};var c=e("VU/8")(s,i,!1,function(t){e("Y2fc")},"data-v-bcf1b15c",null);a.default=c.exports},XyxY:function(t,a,e){"use strict";a.b=function(t){return Object(n.a)({url:"/kind/nav",method:"get",params:t})},a.a=function(t){return Object(n.a)({url:"/kind",method:"get",params:t})};var n=e("vLgD")},Y2fc:function(t,a){}});
//# sourceMappingURL=1.ede4d107bcefef60f802.js.map