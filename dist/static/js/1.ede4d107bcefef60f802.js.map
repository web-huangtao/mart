{"version":3,"sources":["webpack:///src/views/kind/index.vue","webpack:///./src/views/kind/index.vue?10a0","webpack:///./src/views/kind/index.vue","webpack:///./src/mock/kind.js"],"names":["views_kind","data","navBarFixed","searchVal","fixedNav","isFixed","navIdx","nav","page","size","allLoaded","list","mounted","this","kindNav","methods","handleScroll","val","changeNav","_this","Object","kind","then","res","_res$data","code","msg","$toast","catch","err","console","log","loadMore","$indicator","open","text","spinnerType","kindList","_this2","params","close","_res$data2","datas","concat","search","document","activeElement","blur","selectortype_template_index_0_src_views_kind","render","_vm","_h","$createElement","_c","_self","on","scroll","staticClass","_v","staticStyle","flex","attrs","action","onsubmit","autocomplete","cancel-text","placeholder","nativeOn","keyup","$event","type","indexOf","_k","keyCode","key","model","value","callback","$$v","expression","class","_l","item","index","navActive","click","id","_s","title","directives","name","rawName","infinite-scroll-disabled","infinite-scroll-distance","src","img","desc","price","sales","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__","server","url","method","__WEBPACK_IMPORTED_MODULE_0__utils_request_js__"],"mappings":"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","file":"static/js/1.ede4d107bcefef60f802.js","sourcesContent":["<template>\r\n  <v-sticky @scroll=\"handleScroll\">\r\n    <div class=\"header\">\r\n      <p>\r\n        <span class=\"icon\"></span>\r\n        <span>分类</span>\r\n      </p>\r\n      <form action=\"\" onsubmit=\"return false\" autocomplete=\"off\" style=\"flex: 1;\">\r\n        <mt-search\r\n          v-model=\"searchVal\"\r\n          cancel-text=\"取消\"\r\n          placeholder=\"搜索\"\r\n          @keyup.native.enter=\"search(searchVal)\"\r\n        />\r\n      </form>\r\n    </div>\r\n\r\n    <!-- 导航 -->\r\n    <div class=\"sticky\" :class=\"navBarFixed == true ? 'navBarWrap' :''\">\r\n      <p v-for=\"(item, index) in nav\" :key=\"index\" :class=\"{ navActive: index === navIdx }\" @click=\"changeNav(item.id)\">{{ item.title }}</p>\r\n    </div>\r\n\r\n    <!-- 列表 -->\r\n    <ul\r\n      v-infinite-scroll=\"loadMore\"\r\n      infinite-scroll-disabled=\"loading\"\r\n      infinite-scroll-distance=\"50\"\r\n      class=\"list\"\r\n    >\r\n      <li class=\"list-item\" v-for=\"(item, index) in list\" :key=\"index\">\r\n        <img :src=\"item.img\">\r\n        <p class=\"list-item-desc\">{{ item.desc }}</p>\r\n        <p class=\"list-item-bottom\">\r\n          <span class=\"price\"><span class=\"icon\">￥</span>{{ item.price }}</span>\r\n          <span>{{ item.sales }}件已售</span>\r\n          <span class=\"list-item-bottom-icon\"></span>\r\n        </p>\r\n      </li>\r\n    </ul>\r\n\r\n    <!-- 底部 -->\r\n    <v-footer />\r\n  </v-sticky>\r\n</template>\r\n\r\n<script>\r\nimport { nav, kind } from '@/mock/kind'\r\nexport default {\r\n  data() {\r\n    return {\r\n      navBarFixed: false,\r\n      searchVal: '', // 搜索\r\n      fixedNav: false,\r\n      isFixed: false, // nav是否固定\r\n      navIdx: 0, // 导航选中状态\r\n      nav: [], // 导航栏\r\n      page: 0,\r\n      size: 20,\r\n      allLoaded: false, // 是否加载完毕\r\n      list: [] // 列表\r\n    }\r\n  },\r\n  mounted() {\r\n    this.kindNav()\r\n  },\r\n  methods: {\r\n    handleScroll(val) {\r\n      this.navBarFixed = val\r\n    },\r\n    // 选择导航栏\r\n    changeNav(val) {\r\n      this.navIdx = val\r\n    },\r\n    // nav\r\n    kindNav() {\r\n      nav().then(res => {\r\n        const { code, data, msg } = res.data\r\n        if (code === 10000) {\r\n          this.nav = data.nav\r\n        } else {\r\n          this.$toast(msg)\r\n        }\r\n      }).catch(err => {\r\n        console.log(err)\r\n        this.$toast('哎呀，出错啦~~~')\r\n      })\r\n    },\r\n    loadMore() {\r\n      this.page++\r\n      this.$indicator.open({\r\n        text: '加载中...',\r\n        spinnerType: 'fading-circle'\r\n      })\r\n      this.kindList()\r\n    },\r\n    // 列表\r\n    kindList() {\r\n      const params = {\r\n        page: this.page,\r\n        size: this.size\r\n      }\r\n      kind(params).then(res => {\r\n        this.$indicator.close()\r\n        const { code, data, msg } = res.data\r\n        if (code === 10000) {\r\n          const datas = data.data.list\r\n          this.list = this.list.concat(datas)\r\n        } else {\r\n          this.$toast(msg)\r\n        }\r\n      }).catch(err => {\r\n        console.log(err)\r\n        this.$toast('哎呀，出错啦~~~')\r\n      })\r\n    },\r\n    // 搜索\r\n    search(val) {\r\n      console.log(val)\r\n      document.activeElement.blur()\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n  .header {\r\n    display: flex;\r\n    flex-direction: row;\r\n    align-items: center;\r\n    width: 100%;\r\n    height: 100px;\r\n    padding: 10px;\r\n    box-sizing: border-box;\r\n    background: #fff;\r\n    p{\r\n      display: flex;\r\n      flex-direction: column;\r\n      align-items: center;\r\n      font-size: 24px;\r\n      margin-right: 20px;\r\n      .icon {\r\n        width: 40px;\r\n        height: 40px;\r\n        background: url('../../assets/imgs/icon/kind.png') no-repeat;\r\n        background-size: cover;\r\n      }\r\n    }\r\n    /deep/ .mint-search {\r\n      height: 100%;\r\n      border-radius: 6px;\r\n      .mint-searchbar {\r\n        background: #f0f0f0;\r\n        padding: 0;\r\n        z-index: 0;\r\n        .mint-searchbar-inner {\r\n          background: #f0f0f0;\r\n          .mintui-search {\r\n            font-size: 40px;\r\n            margin-right: 20px;\r\n          }\r\n          .mint-searchbar-core {\r\n            font-size: 30px;\r\n          }\r\n        }\r\n        .mint-searchbar-cancel {\r\n          margin: 0 10px 0 0;\r\n        }\r\n      }\r\n    }\r\n  }\r\n  .sticky {\r\n    width: 100%;\r\n    height: 60px;\r\n    white-space: nowrap;\r\n    overflow-x: auto;\r\n    overflow-y: hidden;\r\n    -webkit-overflow-scrolling: touch;\r\n    background: #fff;\r\n    padding: 0 15px;\r\n    box-sizing: border-box;\r\n    p {\r\n      display: inline-block;\r\n      line-height: 60px;\r\n      margin-right: 30px;\r\n    }\r\n    .navActive {\r\n      color: #FB5C55;\r\n      position: relative;\r\n      &::before {\r\n        content: '';\r\n        width: 50px;\r\n        border-bottom: 4px solid #FB5C55;\r\n        position: absolute;\r\n        left: 50%;\r\n        bottom: 0;\r\n        transform: translate(-50%, 0);\r\n      }\r\n    }\r\n    &::-webkit-scrollbar {\r\n      display: none;\r\n    }\r\n  }\r\n  .list {\r\n    width: 100%;\r\n    padding: 15px;\r\n    background: #f0f0f0;\r\n    box-sizing: border-box;\r\n    overflow: hidden;\r\n    .list-item {\r\n      float: left;\r\n      width: 49%;\r\n      border-radius: 10px;\r\n      margin: 0 2% 15px 0;\r\n      padding-bottom: 10px;\r\n      background: #fff;\r\n      &:nth-child(2n) {\r\n        margin-right: 0;\r\n      }\r\n      img {\r\n        width: 100%;\r\n        height: 350px;\r\n        border-top-left-radius: 10px;\r\n        border-top-right-radius: 10px;\r\n        margin-bottom: 10px;\r\n      }\r\n      .list-item-desc {\r\n        padding: 0 10px;\r\n        overflow: hidden;\r\n        text-overflow: ellipsis;\r\n        display: -webkit-box;\r\n        -webkit-line-clamp: 2;\r\n        -webkit-box-orient: vertical;\r\n        margin-bottom: 10px;\r\n      }\r\n      .list-item-bottom {\r\n        display: flex;\r\n        flex-direction: row;\r\n        justify-content: space-between;\r\n        align-items: center;\r\n        width: 100%;\r\n        box-sizing: border-box;\r\n        padding: 0 10px;\r\n        font-size: 28px;\r\n        .price {\r\n          color: #FB5C55;\r\n          .icon {\r\n            font-size: 20px;\r\n          }\r\n        }\r\n        .list-item-bottom-icon {\r\n          width: 30px;\r\n          height: 30px;\r\n          background: url('../../assets/imgs/icon/cart.png') no-repeat;\r\n          background-size: cover;\r\n        }\r\n      }\r\n    }\r\n  }\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/views/kind/index.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-sticky',{on:{\"scroll\":_vm.handleScroll}},[_c('div',{staticClass:\"header\"},[_c('p',[_c('span',{staticClass:\"icon\"}),_vm._v(\" \"),_c('span',[_vm._v(\"分类\")])]),_vm._v(\" \"),_c('form',{staticStyle:{\"flex\":\"1\"},attrs:{\"action\":\"\",\"onsubmit\":\"return false\",\"autocomplete\":\"off\"}},[_c('mt-search',{attrs:{\"cancel-text\":\"取消\",\"placeholder\":\"搜索\"},nativeOn:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.search(_vm.searchVal)}},model:{value:(_vm.searchVal),callback:function ($$v) {_vm.searchVal=$$v},expression:\"searchVal\"}})],1)]),_vm._v(\" \"),_c('div',{staticClass:\"sticky\",class:_vm.navBarFixed == true ? 'navBarWrap' :''},_vm._l((_vm.nav),function(item,index){return _c('p',{key:index,class:{ navActive: index === _vm.navIdx },on:{\"click\":function($event){return _vm.changeNav(item.id)}}},[_vm._v(_vm._s(item.title))])}),0),_vm._v(\" \"),_c('ul',{directives:[{name:\"infinite-scroll\",rawName:\"v-infinite-scroll\",value:(_vm.loadMore),expression:\"loadMore\"}],staticClass:\"list\",attrs:{\"infinite-scroll-disabled\":\"loading\",\"infinite-scroll-distance\":\"50\"}},_vm._l((_vm.list),function(item,index){return _c('li',{key:index,staticClass:\"list-item\"},[_c('img',{attrs:{\"src\":item.img}}),_vm._v(\" \"),_c('p',{staticClass:\"list-item-desc\"},[_vm._v(_vm._s(item.desc))]),_vm._v(\" \"),_c('p',{staticClass:\"list-item-bottom\"},[_c('span',{staticClass:\"price\"},[_c('span',{staticClass:\"icon\"},[_vm._v(\"￥\")]),_vm._v(_vm._s(item.price))]),_vm._v(\" \"),_c('span',[_vm._v(_vm._s(item.sales)+\"件已售\")]),_vm._v(\" \"),_c('span',{staticClass:\"list-item-bottom-icon\"})])])}),0),_vm._v(\" \"),_c('v-footer')],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-bcf1b15c\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/kind/index.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-bcf1b15c\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./index.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./index.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./index.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-bcf1b15c\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./index.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-bcf1b15c\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/kind/index.vue\n// module id = null\n// module chunks = ","import server from '@/utils/request.js'\r\nexport function nav(params) {\r\n  return server({\r\n    url: '/kind/nav',\r\n    method: 'get',\r\n    params: params\r\n  })\r\n}\r\n\r\nexport function kind(params) {\r\n  return server({\r\n    url: '/kind',\r\n    method: 'get',\r\n    params: params\r\n  })\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/mock/kind.js"],"sourceRoot":""}